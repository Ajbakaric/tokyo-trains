@import "tailwindcss";

/* === Cyberpunk tokens (Tailwind v4 @theme) === */
@theme {
  --color-bg: #000000;
  --color-panel: #0F0F10;
  --color-outline: #3A3F2B;
  --color-neon: #FFD300;
  --color-neon-cyan: #00D1FF;
  --color-magenta: #FF00A8;
  --color-text: #E6E6E6;
  --color-subtext: #A0A0A0;

  --font-sans: "Noto Sans JP", system-ui, sans-serif;
  --font-display: "Orbitron", ui-sans-serif, system-ui;
  --font-mono: "Roboto Mono", ui-monospace, SFMono-Regular;

  --radius-2xl: 1rem;
  --radius-3xl: 1.25rem;

  --shadow-neon: 0 0 8px #FFD300, 0 0 18px rgba(255,211,0,.35);
  --shadow-innerhud: inset 0 0 12px rgba(0,209,255,.15);

  /* layout tokens */
  --header-h: 40px; /* used by .chip-bar */
}

/* ===== Base / layout ===== */
html, body, #root { height: 100%; }

/* Transparent body for Spline underlay */
body {
  background: transparent;
  color: var(--color-text);
}

/* Solid fallback behind transparent body */
html, #root { background: #000; }

/* ===== Stacking order =====
   0) .hero-spline  (underlay)
   1) .hud-grid     (UI container)
   2) .hud-grid::before/::after (blueprint overlays)
   3) header        (sticky controls)
   4) .chip-bar     (sticky chips above header)
*/

/* 0) Spline underlay */
.hero-spline {
  position: sticky; /* or fixed per your setup */
  top: 0;
  z-index: 0;
  height: clamp(560px, 35vh, 560px);
  border-bottom: 6px solid var(--color-outline);
  background: transparent;
  overflow: hidden;
  pointer-events: none; /* don't steal scroll/clicks */
}
.hero-spline iframe,
.hero-spline canvas {
  width: 100%;
  height: 100%;
  display: block;
  background: transparent !important;
}

/* 1) HUD container above Spline */
.hud-grid {
  position: relative;
  z-index: 1;
}

/* 2) Blueprint overlays above Spline too */
.hud-grid::before,
.hud-grid::after {
  content: "";
  position: fixed; inset: 0;
  pointer-events: none;
  z-index: 2;
}
.hud-grid::before {
  opacity: .15;
  background:
    linear-gradient(to right, rgba(0,209,255,.06) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(0,209,255,.06) 1px, transparent 1px);
  background-size: 40px 40px, 40px 40px;
}
.hud-grid::after {
  opacity: .08;
  background:
    linear-gradient(to right, rgba(0,209,255,.04) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(0,209,255,.04) 1px, transparent 1px);
  background-size: 8px 8px, 8px 8px;
}

/* 3) Sticky header above HUD */
header {
  position: sticky;
  top: 0;
  z-index: 40;
}

/* 4) Sticky chips bar ABOVE header */
.chip-bar {
  position: sticky;
  top: calc(var(--header-h) + 8px);
  z-index: 50;
  background: rgba(0,0,0,.28);
  backdrop-filter: blur(6px);
  border-bottom: 1px solid rgba(0,209,255,.25);
}

/* ===== Utilities / helpers ===== */
.neon-text { text-shadow: var(--shadow-neon); }
.text-neon { color: var(--color-neon); }
.text-subtext { color: var(--color-subtext); }

.card {
  background: color-mix(in oklab, var(--color-panel) 100%, transparent);
  border: 1px solid color-mix(in oklab, var(--color-outline) 85%, transparent);
  box-shadow: var(--shadow-innerhud);
  border-radius: 20px;
  backdrop-filter: blur(4px);
}

@keyframes pulseNeon {
  0%, 100% { text-shadow: var(--shadow-neon); }
  50%      { text-shadow: 0 0 2px var(--color-neon); }
}
.pulse-neon { animation: pulseNeon 1.2s ease-in-out infinite; }

.dim-cancelled { opacity: .45; filter: grayscale(.1); }

/* ===== Hero overlay FX (optional) ===== */
:root { --hero-h: clamp(220px, 28vh, 360px); }

.hero-fx {
  position: absolute;
  inset: 0;
  pointer-events: none;
  background:
    linear-gradient(180deg, rgba(0,209,255,.08), transparent 55%),
    radial-gradient(60% 60% at 50% 0%, rgba(255,0,168,.12), transparent 70%),
    repeating-linear-gradient(
      0deg,
      rgba(255,255,255,.05),
      rgba(255,255,255,.05) 1px,
      transparent 2px,
      transparent 6px
    );
  mix-blend-mode: screen;
  opacity: .5;
}
.hero-overlay {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: end center;
  padding-bottom: 18px;
  pointer-events: none;
}

/* NOTE:
   - Avoid transform/filter on ancestors of .hud-grid; they create new
     stacking contexts. If unavoidable, ensure .hud-grid has a higher z-index.
*/
